# aliyunCDN
## 利用阿里云的cdn 来做动态域名解析

众所周知，拥有一个固定的公网IP费用是很高的，但是拥有动态的公网ip就很便宜。   
做开发的最苦恼的莫过于没有公网的测试环境，各种第三方的回调通知都没法测。  
在以前电信还没有封闭动态ip的80和443端口之前，利用动态域名解析技术可以很轻松的搭建web服务。  
后来电信把80和443端口也封了，虽然动态解析还可以用，但是url后面跟着一串端口号看着总觉得不舒服，而且有些第三方的回调通知还不支持带端口号的url。  
那还有没有其他的方式来实现呢？答案是肯定的，就是今天的主角 CDN  
CDN的原理在这里就不做赘述，想知道原理的自行google或baidu  
这里我就直接上实现方式
## 实现步骤
+ 前提准备
  + 拥有一个已经备案的域名
  + 开通阿里云的CDN
  
+ 操作
  + 在阿里云CDN控制台添加域名
  + 源设置成你的ip，端口为你的应用端口
  + 通过域名访问你的应用
  
## 自动更新源ip
做完以上操作就可以实现公网访问了，干净简洁的url无须担心电信封了80、443端口，而且还能享受到CDN加速，是不是很爽！  
能自动更新CDN的源IP那就更爽了！有需求那就安排上  
今天的主角来了，不足百行代码，当检测到本地IP变化时，利用阿里云的API接口自动刷新CDN  
还可以做成windows服务开机自动启动，让你的应用保持在线

## 发布windows服务
sc create aliyunwooyang binPath= "aliyunwooyang.exe"
